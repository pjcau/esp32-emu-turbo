"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[991],{8519(e,s,i){i.r(s),i.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"feasibility","title":"Feasibility Analysis","description":"Why ESP32-S3 Over Original ESP32","source":"@site/docs/feasibility.md","sourceDirName":".","slug":"/feasibility","permalink":"/esp32-emu-turbo/docs/feasibility","draft":false,"unlisted":false,"editUrl":"https://github.com/pjcau/esp32-emu-turbo/tree/main/website/docs/feasibility.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"feasibility","title":"Feasibility Analysis","sidebar_position":2},"sidebar":"projectSidebar","previous":{"title":"ESP32 Emu Turbo","permalink":"/esp32-emu-turbo/docs/"},"next":{"title":"SNES Hardware Specification","permalink":"/esp32-emu-turbo/docs/snes-hardware"}}');var t=i(4848),r=i(8453);const l={id:"feasibility",title:"Feasibility Analysis",sidebar_position:2},d="Feasibility Analysis",a={},c=[{value:"Why ESP32-S3 Over Original ESP32",id:"why-esp32-s3-over-original-esp32",level:2},{value:"Hardware Schematic",id:"hardware-schematic",level:2},{value:"GPIO Connections (estimate)",id:"gpio-connections-estimate",level:2},{value:"Feasibility Assessment",id:"feasibility-assessment",level:2},{value:"Primary target: SNES",id:"primary-target-snes",level:3},{value:"Also supported: NES",id:"also-supported-nes",level:3},{value:"Risks and Mitigations",id:"risks-and-mitigations",level:3},{value:"Conclusion",id:"conclusion",level:3},{value:"Reference Software",id:"reference-software",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"feasibility-analysis",children:"Feasibility Analysis"})}),"\n",(0,t.jsx)(s.h2,{id:"why-esp32-s3-over-original-esp32",children:"Why ESP32-S3 Over Original ESP32"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Feature"}),(0,t.jsx)(s.th,{children:"ESP32 (LX6)"}),(0,t.jsx)(s.th,{children:"ESP32-S3 (LX7)"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Core"}),(0,t.jsx)(s.td,{children:"Dual Xtensa LX6, 240 MHz"}),(0,t.jsx)(s.td,{children:"Dual Xtensa LX7, 240 MHz"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"SIMD / PIE"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Yes (128-bit, 2x-10x speedup)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Max PSRAM"}),(0,t.jsx)(s.td,{children:"4 MB (Quad SPI)"}),(0,t.jsx)(s.td,{children:"16 MB (Octal SPI DDR, ~84 MB/s)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Native USB"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Yes (OTG, direct USB gamepad)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"GPIO"}),(0,t.jsx)(s.td,{children:"34"}),(0,t.jsx)(s.td,{children:"45"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:["The ESP32-S3 is ",(0,t.jsx)(s.strong,{children:"the mandatory choice for SNES"}),": SIMD instructions accelerate pixel manipulation, Octal PSRAM is 4x faster, and 8 MB is enough for SNES ROMs up to 6 MB + emulator buffers."]}),"\n",(0,t.jsx)(s.h2,{id:"hardware-schematic",children:"Hardware Schematic"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:'                         +------------------+\n                         |                  |\n    USB-C \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502   IP5306 Module  \u2502\u2500\u2500\u2500\u2500 5V rail\n                         \u2502  (charge+boost)  \u2502\n                         +--------+---------+\n                                  |\n                          +-------+-------+\n                          |               |\n                    +-----+-----+   +-----+-----+\n                    | LiPo Batt |   | AMS1117    |\n                    | 3.7V      |   | 5V -> 3.3V |\n                    | 5000 mAh  |   +-----+------+\n                    |           |         |\n                    +-----------+         | 3.3V\n                                          |\n                              +-----------+-----------+\n                              |                       |\n                              |     ESP32-S3 N16R8    |\n                              |   (16MB Flash, 8MB    |\n                              |    Octal PSRAM)       |\n                              |                       |\n                              +--+--+--+--+--+--+--+-+\n                                 |  |  |  |  |  |  |\n                    +------------+  |  |  |  |  |  +----------+\n                    |               |  |  |  |  |             |\n              +-----+-----+  +-----+--+  |  +--+-----+  +----+----+\n              | Display    |  | SD Card|  |  | Audio  |  | Buttons |\n              | ST7796S    |  | Module |  |  | DAC -> |  | D-pad   |\n              | 3.5"-4"    |  | SPI    |  |  | PAM8403|  | A,B,X,Y |\n              | 8-bit par  |  +--------+  |  | Speaker|  | Start   |\n              | (8080)     |              |  +--------+  | Select  |\n              +------------+              |              | L, R    |\n                                          |              +---------+\n                                    +-----+-----+\n                                    | Joystick  |\n                                    | PSP-style |\n                                    | (optional)|\n                                    +-----------+\n'})}),"\n",(0,t.jsx)(s.h2,{id:"gpio-connections-estimate",children:"GPIO Connections (estimate)"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Peripheral"}),(0,t.jsx)(s.th,{children:"Interface"}),(0,t.jsx)(s.th,{children:"GPIOs Required"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Display (8-bit parallel)"}),(0,t.jsx)(s.td,{children:"8080 parallel"}),(0,t.jsx)(s.td,{children:"~13 (8 data + 5 control)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Display (SPI alternative)"}),(0,t.jsx)(s.td,{children:"SPI"}),(0,t.jsx)(s.td,{children:"~5 (MOSI, CLK, CS, DC, RST)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"SD Card"}),(0,t.jsx)(s.td,{children:"SPI"}),(0,t.jsx)(s.td,{children:"~4 (MOSI, MISO, CLK, CS)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Buttons (12 keys: D-pad, A, B, X, Y, Start, Select, L, R)"}),(0,t.jsx)(s.td,{children:"Direct GPIO"}),(0,t.jsx)(s.td,{children:"~12"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Audio DAC (I2S)"}),(0,t.jsx)(s.td,{children:"I2S"}),(0,t.jsx)(s.td,{children:"~3 (BCLK, LRCK, DATA)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Analog joystick"}),(0,t.jsx)(s.td,{children:"ADC"}),(0,t.jsx)(s.td,{children:"~2 (X, Y)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Total (8-bit display)"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"~34"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Total (SPI display)"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"~26"})})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:["The ESP32-S3 has ",(0,t.jsx)(s.strong,{children:"45 GPIOs"}),", so both configurations are feasible."]}),"\n",(0,t.jsx)(s.h2,{id:"feasibility-assessment",children:"Feasibility Assessment"}),"\n",(0,t.jsx)(s.h3,{id:"primary-target-snes",children:"Primary target: SNES"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"SNES requires 65C816 CPU emulation + complex PPU (mode 7, rotation, scaling)"}),"\n",(0,t.jsxs)(s.li,{children:["ESP32-S3 with ",(0,t.jsx)(s.strong,{children:"SIMD/PIE"})," instructions provides 2-10x speedup for pixel operations"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"8 MB Octal PSRAM"})," at ~84 MB/s handles SNES VRAM + ROM caching"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parallel display interface is mandatory"})," for 60 fps frame delivery"]}),"\n",(0,t.jsxs)(s.li,{children:["Reference: ",(0,t.jsx)(s.a,{href:"https://github.com/esp-cpp/esp-box-emu",children:"esp-box-emu"})," runs SNES on ESP32-S3-BOX hardware"]}),"\n",(0,t.jsx)(s.li,{children:"Some complex SNES games (SuperFX, SA-1 co-processors) may need frame skipping"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"also-supported-nes",children:"Also supported: NES"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"ESP32-S3 at 240 MHz with 8 MB PSRAM handles NES emulation with no issues"}),"\n",(0,t.jsxs)(s.li,{children:["Existing projects (Retro-Go, esp-box-emu) demonstrate NES at ",(0,t.jsx)(s.strong,{children:"60 fps"})]}),"\n",(0,t.jsx)(s.li,{children:"NES runs comfortably even with parallel display overhead"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"risks-and-mitigations",children:"Risks and Mitigations"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Risk"}),(0,t.jsx)(s.th,{children:"Likelihood"}),(0,t.jsx)(s.th,{children:"Mitigation"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Insufficient SNES frame rate"}),(0,t.jsx)(s.td,{children:"Medium"}),(0,t.jsx)(s.td,{children:"Parallel display + code optimization"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Not enough GPIOs"}),(0,t.jsx)(s.td,{children:"Low"}),(0,t.jsx)(s.td,{children:"ESP32-S3 has 45 GPIOs, ample margin"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Excessive battery drain"}),(0,t.jsx)(s.td,{children:"Low"}),(0,t.jsx)(s.td,{children:"5000mAh battery, ~14-16h estimated life"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"IP5306 auto-shutdown in sleep"}),(0,t.jsx)(s.td,{children:"Medium"}),(0,t.jsx)(s.td,{children:"I2C configuration or periodic pulse"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Audio crackling / latency"}),(0,t.jsx)(s.td,{children:"Low"}),(0,t.jsx)(s.td,{children:"I2S with DMA buffer"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"The project is feasible with SNES as the primary target."})," The ESP32-S3's SIMD/PIE instructions and Octal PSRAM provide the performance needed for SNES emulation. NES runs flawlessly as a bonus. The 8-bit 8080 parallel display is mandatory for SNES frame rates. The budget of ~$42-55 is modest, and all components are readily available on AliExpress."]}),"\n",(0,t.jsx)(s.h2,{id:"reference-software",children:"Reference Software"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Project"}),(0,t.jsx)(s.th,{children:"Platforms"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/ducalex/retro-go",children:"Retro-Go"})}),(0,t.jsx)(s.td,{children:"NES, GB, GBC, SMS, GG, PCE"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/esp-cpp/esp-box-emu",children:"esp-box-emu"})}),(0,t.jsx)(s.td,{children:"NES, SNES, Genesis"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Nofrendo"}),(0,t.jsx)(s.td,{children:"NES (portable emulator for ESP32)"})]})]})]})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,s,i){i.d(s,{R:()=>l,x:()=>d});var n=i(6540);const t={},r=n.createContext(t);function l(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);